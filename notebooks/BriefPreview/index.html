


<!--
  ~ Apache License
  ~ Version 2.0, January 2004
  ~ http://www.apache.org/licenses/
  ~
  ~    Copyright 2013 - 2021 Aurelian Tutuianu
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  ~
  -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://padreati.github.io/rapaio/notebooks/BriefPreview/">
      
      
        <meta name="author" content="Aurelian Tutuianu">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.12">
    
    
<title>Rapaio documentation site</title>

    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4dd2dd8d.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#brief-preview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://padreati.github.io/rapaio/" title="Rapaio" class="md-header-nav__button md-logo" aria-label="Rapaio">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Rapaio
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Brief preview
            
          </span>
        </div>
      
    </div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://padreati.github.io/rapaio/" title="Rapaio" class="md-nav__button md-logo" aria-label="Rapaio">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Rapaio
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome to Rapaio" class="md-nav__link">
      Welcome to Rapaio
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../complete-library-features/" title="Complete list of features" class="md-nav__link">
      Complete list of features
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Brief preview
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" title="Brief preview" class="md-nav__link md-nav__link--active">
      Brief preview
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#brief-preview" class="md-nav__link">
    Brief preview
  </a>
  
    <nav class="md-nav" aria-label="Brief preview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-up-things" class="md-nav__link">
    Set up things
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-a-data-set" class="md-nav__link">
    Use a data set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exploration" class="md-nav__link">
    Data exploration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tv-and-radio" class="md-nav__link">
    TV and radio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linear-regression" class="md-nav__link">
    Linear regression
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/BuiltinDataSets/" title="Built-in Data sets" class="md-nav__link">
      Built-in Data sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/DataHandlingOverview/" title="Data Handling Overview" class="md-nav__link">
      Data Handling Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/Variables/" title="Variables" class="md-nav__link">
      Variables
    </a>
  </li>


          <li class="md-nav__item">
              <a href="../tutorials/CoreStatisticalTools/" title="Core statistical tools" class="md-nav__link">
                  Core statistical tools
              </a>
          </li>


          <li class="md-nav__item">
              <a href="../tutorials/DataVisualization/" title="Data visualization" class="md-nav__link">
                  Data visualization
              </a>
          </li>


      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../about/" title="Short story" class="md-nav__link">
      Short story
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/padreati/rapaio" title="Source" class="md-nav__link">
      Source
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#brief-preview" class="md-nav__link">
    Brief preview
  </a>
  
    <nav class="md-nav" aria-label="Brief preview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-up-things" class="md-nav__link">
    Set up things
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-a-data-set" class="md-nav__link">
    Use a data set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exploration" class="md-nav__link">
    Data exploration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tv-and-radio" class="md-nav__link">
    TV and radio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linear-regression" class="md-nav__link">
    Linear regression
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                  <h1>Brief preview</h1>
                
                <h3 id="brief-preview">Brief preview</h3>
<p>This notebook is intended to be a starting point for using rapaio library in a IJava jupyter notebook. We use a real simple data set. The analysis is not indended to be an example for how to conduct an inference. The line story poresented exists only to make the exemplification more friendly.</p>
<h4 id="set-up-things">Set up things</h4>
<p>First of all we have to import the library. We can do that either through maven magic or, if we have a locally compiled project source code, through jar magic. </p>
<p>However we prepared an additional easier option: loading rapaio-bootstrap notebook. This is useful since this bootstrap notebook can be enriched in order to contain whatever additional configurations tailored for your needs.</p>
<div class="highlight"><pre><span></span><code><span class="o">%</span><span class="n">load</span> <span class="n">rapaio</span><span class="o">-</span><span class="n">bootstrap</span>
</code></pre></div>

<h4 id="use-a-data-set">Use a data set</h4>
<p>We load a well known small data set used in the wonderful book: <em>An Introduction to Statistical Learning with Applications in R, Gareth James, Daniela Witten, Trevor Hastie and Robert Tibshirani</em>. This is the 
<a href="http://faculty.marshall.usc.edu/gareth-james/ISL/index.html">book's website</a>.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// skip the first column since it is the row number</span>
<span class="kd">var</span> <span class="n">df</span> <span class="o">=</span> <span class="n">Csv</span><span class="p">.</span><span class="na">instance</span><span class="p">().</span><span class="na">skipCols</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">IntRule</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="p">.</span><span class="na">readUrl</span><span class="p">(</span><span class="s">&quot;http://faculty.marshall.usc.edu/gareth-james/ISL/Advertising.csv&quot;</span><span class="p">);</span>
</code></pre></div>

<p>Take a look at some of the data frame values.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span><span class="p">.</span><span class="na">printContent</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>       TV   radio newspaper sales        TV   radio newspaper sales 
  [0] 230.1 37.8    69.2    22.1    [8]   8.6  2.1     1       4.8  
  [1]  44.5 39.3    45.1    10.4    [9] 199.8  2.6    21.2    10.6  
  [2]  17.2 45.9    69.3     9.3         ...   ...     ...     ...  
  [3] 151.5 41.3    58.5    18.5  [195]  38.2  3.7    13.8     7.6  
  [4] 180.8 10.8    58.4    12.9  [196]  94.2  4.9     8.1     9.7  
  [5]   8.7 48.9    75       7.2  [197] 177    9.3     6.4    12.8  
  [6]  57.5 32.8    23.5    11.8  [198] 283.6 42      66.2    25.5  
  [7] 120.2 19.6    11.6    13.2  [199] 232.1  8.6     8.7    13.4
</code></pre></div>

<p>And see some statistics on the data frame.</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span><span class="p">.</span><span class="na">printSummary</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Frame Summary
=============
* rowCount: 200
* complete: 200/200
* varCount: 4
* varNames:

0.        TV : dbl | 
1.     radio : dbl | 
2. newspaper : dbl | 
3.     sales : dbl |

* summary: 
       TV [dbl]           radio [dbl]       newspaper [dbl]           sales [dbl]      
   Min. :   0.7000000    Min. :  0.0000000     Min. :   0.3000000    Min. :  1.6000000 
1st Qu. :  74.3750000 1st Qu. :  9.9750000  1st Qu. :  12.7500000 1st Qu. : 10.3750000 
 Median : 149.7500000  Median : 22.9000000   Median :  25.7500000  Median : 12.9000000 
   Mean : 147.0425000    Mean : 23.2640000     Mean :  30.5540000    Mean : 14.0225000 
2nd Qu. : 218.8250000 2nd Qu. : 36.5250000  2nd Qu. :  45.1000000 2nd Qu. : 17.4000000 
   Max. : 296.4000000    Max. : 49.6000000     Max. : 114.0000000    Max. : 27.0000000
</code></pre></div>

<h4 id="data-exploration">Data exploration</h4>
<p>Let's see how <em>Sales</em> variable visually looks like.</p>
<div class="highlight"><pre><span></span><code><span class="n">WS</span><span class="p">.</span><span class="na">image</span><span class="p">(</span><span class="n">hist</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">),</span> <span class="n">bins</span><span class="p">(</span><span class="mi">40</span><span class="p">),</span> <span class="n">fill</span><span class="p">(</span><span class="mi">6</span><span class="p">)));</span>
</code></pre></div>

<p><img alt="png" src="output_12_0.png" /></p>
<p>Let's look at the relation between DVs and IV.</p>
<div class="highlight"><pre><span></span><code><span class="n">WS</span><span class="p">.</span><span class="na">image</span><span class="p">(</span><span class="n">gridLayer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
         <span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">points</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;TV&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">),</span> <span class="n">pch</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">fill</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
         <span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">points</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;radio&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">),</span> <span class="n">pch</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">fill</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
         <span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">points</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;newspaper&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">),</span> <span class="n">pch</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">fill</span><span class="p">(</span><span class="mi">3</span><span class="p">))));</span>
</code></pre></div>

<p><img alt="png" src="output_14_0.png" /></p>
<p>We have an idea that <em>TV</em> and <em>radio</em> are correlated with <em>sales</em>. First we can check if this is true. We can do that by measuring the correlation between them.</p>
<div class="highlight"><pre><span></span><code><span class="n">CorrPearson</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;TV&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">)).</span><span class="na">printContent</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt; pearson[TV, sales] - Pearson product-moment correlation coefficient
0.7822244
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">CorrSpearman</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;TV&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">)).</span><span class="na">printContent</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt; spearman[TV, sales] - Spearman&#39;s rank correlation coefficient
0.8006144
</code></pre></div>

<p>As expected, the correlation is strong and a little bit unlinear. This is probably to be expected.</p>
<div class="highlight"><pre><span></span><code><span class="n">CorrPearson</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;radio&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">)).</span><span class="na">printContent</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt; pearson[radio, sales] - Pearson product-moment correlation coefficient
0.5762226
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">CorrSpearman</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;radio&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">)).</span><span class="na">printContent</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt; spearman[radio, sales] - Spearman&#39;s rank correlation coefficient
0.5543037
</code></pre></div>

<p>Correlation is lower, as expected from the visualization. However, it must be higher than the <em>newspaper</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">CorrPearson</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;newspaper&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">)).</span><span class="na">printContent</span><span class="p">()</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt; pearson[newspaper, sales] - Pearson product-moment correlation coefficient
0.228299
</code></pre></div>

<h4 id="tv-and-radio">TV and radio</h4>
<p>It seems obvious that <em>TV</em> and <em>radio</em> dependent variables have a strong influence on sales. It becomes interesting to understand if those contributions are strongly correlated or not. If they are correlated, than our predictive power would be probably lower because the two variables would share the same information. If they are relatively independent, than our prediction would be better, since the information space would be spanned into more than one important dimension. </p>
<div class="highlight"><pre><span></span><code><span class="n">WS</span><span class="p">.</span><span class="na">image</span><span class="p">(</span><span class="n">points</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;TV&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;radio&quot;</span><span class="p">),</span> <span class="n">fill</span><span class="p">(</span><span class="mi">23</span><span class="p">),</span> <span class="n">pch</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
</code></pre></div>

<p><img alt="png" src="output_24_0.png" /></p>
<p>They look unrelated.</p>
<div class="highlight"><pre><span></span><code><span class="n">CorrPearson</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;TV&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;radio&quot;</span><span class="p">)).</span><span class="na">printContent</span><span class="p">();</span>
<span class="n">CorrSpearman</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;TV&quot;</span><span class="p">),</span> <span class="n">df</span><span class="p">.</span><span class="na">rvar</span><span class="p">(</span><span class="s">&quot;radio&quot;</span><span class="p">)).</span><span class="na">printContent</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt; pearson[TV, radio] - Pearson product-moment correlation coefficient
0.0548087

&gt; spearman[TV, radio] - Spearman&#39;s rank correlation coefficient
0.0561234
</code></pre></div>

<p>We were right, even Spearman's rho could not get much of it.</p>
<h4 id="linear-regression">Linear regression</h4>
<div class="highlight"><pre><span></span><code><span class="n">LinearRegressionModel</span> <span class="n">lm</span> <span class="o">=</span> <span class="n">LinearRegressionModel</span><span class="p">.</span><span class="na">newModel</span><span class="p">();</span>
<span class="n">lm</span><span class="p">.</span><span class="na">fit</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s">&quot;sales&quot;</span><span class="p">);</span>
<span class="n">lm</span><span class="p">.</span><span class="na">predict</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="na">printSummary</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Regression predict summary
=======================
Model class: LinearRegression
Model instance: LinearRegression{}
&gt; model is trained.
&gt; input variables: 
1. (Intercept) dbl 
2. TV          dbl 
3. radio       dbl 
4. newspaper   dbl 
&gt; target variables: 
1. sales dbl

Target &lt;&lt;&lt; sales &gt;&gt;&gt;

&gt; Residuals: 
       Min         1Q    Median        3Q       Max 
-8.8276871 -0.8908135 0.2418018 1.1893186 2.8292226

&gt; Coefficients: 
       Name   Estimate Std. error    t value   P(&gt;|t|)     
(Intercept)  2.9388894 0.3119082   9.4222884    &lt;2e-16 *** 
TV           0.0457646 0.0013949  32.8086244    &lt;2e-16 *** 
radio        0.1885300 0.0086112  21.8934961    &lt;2e-16 *** 
newspaper   -0.0010375 0.0058710  -0.1767146 0.8599151     
--------
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.6855104 on 196 degrees of freedom
Multiple R-squared:  0.8972106, Adjusted R-squared:  0.8956373
F-statistic: 570.271 on 3 and 196 DF,  p-value: &lt;2e-16
</code></pre></div>

<p>The linear regression tells us that our intuitions are right regarding the importance of <em>TV</em> and <em>radio</em> and aparently less important <em>newspaper</em>. It says also that both of them are important on their own right, being independent.</p>
<p>Now we can check if a model withot newspaper variable has the same performance as the full model.</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="n">reducedDf</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="na">mapVars</span><span class="p">(</span><span class="s">&quot;TV,radio,sales&quot;</span><span class="p">);</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="n">lm2</span> <span class="o">=</span> <span class="n">LinearRegressionModel</span><span class="p">.</span><span class="na">newModel</span><span class="p">();</span>
<span class="n">lm2</span><span class="p">.</span><span class="na">fit</span><span class="p">(</span><span class="n">reducedDf</span><span class="p">,</span> <span class="s">&quot;sales&quot;</span><span class="p">);</span>
<span class="n">lm2</span><span class="p">.</span><span class="na">predict</span><span class="p">(</span><span class="n">reducedDf</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="na">printSummary</span><span class="p">();</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Regression predict summary
=======================
Model class: LinearRegression
Model instance: LinearRegression{}
&gt; model is trained.
&gt; input variables: 
1. (Intercept) dbl 
2. TV          dbl 
3. radio       dbl 
&gt; target variables: 
1. sales dbl

Target &lt;&lt;&lt; sales &gt;&gt;&gt;

&gt; Residuals: 
       Min         1Q    Median        3Q       Max 
-8.7976997 -0.8751582 0.2421943 1.1707702 2.8328368

&gt; Coefficients: 
       Name  Estimate Std. error    t value P(&gt;|t|)     
(Intercept) 2.9210999 0.2944897   9.9191929  &lt;2e-16 *** 
TV          0.0457548 0.0013904  32.9087083  &lt;2e-16 *** 
radio       0.1879942 0.0080400  23.3824460  &lt;2e-16 *** 
--------
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.6813609 on 197 degrees of freedom
Multiple R-squared:  0.8971943, Adjusted R-squared:  0.8961505
F-statistic: 859.618 on 2 and 197 DF,  p-value: &lt;2e-16
</code></pre></div>

<p>We have a similar adjusted R2, as we expected.</p>
<div class="highlight"><pre><span></span><code>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../complete-library-features/" title="Complete list of features" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Complete list of features
              </div>
            </div>
          </a>
        
        
          <a href="../tutorials/BuiltinDataSets/" title="Built-in Data sets" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Built-in Data sets
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.3636a4ec.min.js"></script>
      <script src="../../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"></script>
      
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
      
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
      
    
  </body>
</html>